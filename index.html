<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>로또 번호 분석기</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>🎰 로또 번호 분석기</h1>
            <p>최근 15개 회차 로또 데이터를 분석하여 번호를 추천합니다</p>
        </header>

        <div class="controls">
            <button id="analyzeBtn" class="btn-primary">📊 데이터 분석 시작</button>
            <button id="generateBtn" class="btn-secondary" disabled>🎲 번호 생성</button>
            <div class="loading" id="loading" style="display: none;">
                <div class="spinner"></div>
                <span>데이터 분석 중...</span>
            </div>
        </div>

        <div class="status" id="status"></div>

        <div class="tabs">
            <button class="tab-btn active" data-tab="analysis">📈 분석 결과</button>
            <button class="tab-btn" data-tab="hot-numbers">🔥 자주 나온 번호</button>
            <button class="tab-btn" data-tab="cold-numbers">❄️ 적게 나온 번호</button>
            <button class="tab-btn" data-tab="recommended">🎯 AI 추천</button>
        </div>

        <div class="tab-content">
            <!-- 분석 결과 탭 -->
            <div id="analysis" class="tab-panel active">
                <div class="analysis-grid">
                    <div class="card">
                        <h3>📊 번호별 출현 빈도</h3>
                        <canvas id="frequencyChart"></canvas>
                    </div>
                    <div class="card">
                        <h3>🔢 홀짝 분포</h3>
                        <canvas id="oddEvenChart"></canvas>
                    </div>
                    <div class="card">
                        <h3>📍 구간별 분포</h3>
                        <canvas id="rangeChart"></canvas>
                    </div>
                    <div class="card">
                        <h3>📈 합계 분포</h3>
                        <canvas id="sumChart"></canvas>
                    </div>
                </div>
                
                <div class="stats-summary" id="statsSummary">
                    <!-- 통계 요약이 여기에 표시됩니다 -->
                </div>
            </div>

            <!-- 자주 나온 번호 탭 -->
            <div id="hot-numbers" class="tab-panel">
                <div class="card">
                    <h3>🔥 자주 나온 번호 TOP 15</h3>
                    <div id="hotNumbersList" class="number-list">
                        <!-- 자주 나온 번호 목록 -->
                    </div>
                </div>
                
                <div class="card">
                    <h3>🔥 자주 나온 번호 기반 추천</h3>
                    <div id="hotRecommendations" class="lotto-sets">
                        <!-- 추천 번호 세트들 -->
                    </div>
                </div>
            </div>

            <!-- 적게 나온 번호 탭 -->
            <div id="cold-numbers" class="tab-panel">
                <div class="card">
                    <h3>❄️ 적게 나온 번호 TOP 15</h3>
                    <div id="coldNumbersList" class="number-list">
                        <!-- 적게 나온 번호 목록 -->
                    </div>
                </div>
                
                <div class="card">
                    <h3>❄️ 적게 나온 번호 기반 추천</h3>
                    <div id="coldRecommendations" class="lotto-sets">
                        <!-- 추천 번호 세트들 -->
                    </div>
                </div>
            </div>

            <!-- AI 추천 탭 (완전 수정) -->
<div id="recommended" class="tab-panel">
    <!-- AI 종합 분석 추천 번호 (수정됨) -->
    <div class="card">
        <h3>🎯 AI 종합 분석 추천 번호</h3>
        <p class="description">최신 15회차 로또 용지 마킹 위치를 기반으로 분석한 추천 번호입니다.</p>
        
        <!-- 마킹 위치 분석 표시 -->
        <div id="markingAnalysis" class="marking-analysis">
            <!-- 마킹 위치 분석이 여기에 표시됩니다 -->
        </div>
        
        <!-- AI 추천 번호 세트들 -->
        <div id="aiRecommendations" class="lotto-sets">
            <!-- AI 추천 번호 세트들 -->
        </div>
    </div>

    <!-- 균형잡힌 전략 번호 (유지) -->
    <div class="card">
        <h3>⚖️ 균형잡힌 전략 번호</h3>
        <p class="description">각 구간(1-15, 16-30, 31-45)에서 균등하게 선택한 번호입니다.</p>
        <div id="balancedRecommendations" class="lotto-sets">
            <!-- 균형잡힌 번호 세트들 -->
        </div>
    </div>
</div>
        <footer>
            <div class="warning">
                <h4>⚠️ 중요 안내사항</h4>
                <ul>
                    <li>로또는 완전한 확률게임입니다</li>
                    <li>과거 데이터 분석이 미래 당첨을 보장하지 않습니다</li>
                    <li>이 분석은 통계적 참고용으로만 활용하세요</li>
                    <li>책임감 있는 게임 참여를 권장합니다</li>
                </ul>
            </div>
        </footer>
    </div>

    <!-- CORS 프록시 사용을 위한 스크립트 -->
    <script>
        const CORS_PROXY = 'https://api.allorigins.win/raw?url=';
    </script>
    
    <script src="script.js"></script>
</body>
</html>
